<style>
    .slideout {
        -webkit-animation: cssAnimation 1s 1 ease;
        -moz-animation: cssAnimation 1s 1 ease;
        -o-animation: cssAnimation 1s 1 ease;
    }
    @-webkit-keyframes cssAnimation {
        from { -webkit-transform: rotate(0deg) scale(1)  translate(2px); }
        to { -webkit-transform: rotate(0deg) scale(1)  translate(300px); }
    }
    @-moz-keyframes cssAnimation {
        from { -moz-transform: rotate(0deg) scale(1) skew(1deg) translate(2px); }
        to { -moz-transform: rotate(0deg) scale(1)  translate(300px); }
    }
    @-o-keyframes cssAnimation {
        from { -o-transform: rotate(0deg) scale(1) translate(2px); }
        to { -o-transform: rotate(0deg) scale(1) translate(300px); }
    }
    .fadeout{
        scale: b;
        -webkit-transition: background 2s;
    }
</style>



<div class="container">
    <div class="hero-unit">
        <h2>
            New job
        </h2>
        <!---First screen platform selection --!>
        <img id="apple_plat" src="img/Apple-Logo.png"
        style=" width: 200px; height: 200px;" onclick="platform_select(0)">
        <img id="android_plat" src="img/Android-Logo.png"
        style=" width: 200px; height: 200px;" onclick="platform_select(1)">

        <!---Device type screen platform selection --!>
        <img id="phone_img" src="img/phoneicon.png"
        style="display:none; width: 200px; height: 200px;" onclick="device_type(0)">

        <img id="pad_img" src="img/padicon.png"
        style="display:none; width: 200px; height: 200px;" onclick="device_type(0)">
        
        <!---Device specifier platform selection --!>

        <!--- This should be generated by sinatra but we'll hardcode some examples --!>    
        <div id="device_sel_bar"class="btn-toolbar" style="display:none;">
        <div class="btn-group">
        <button onclick="device_specific(0)" class="btn">iPhone4</button>
        <button class="btn">iPhone4s</button>
        <button class="btn">iPhone5</button>
        <button class="btn">iPadMini</button>
        <button class="btn">iPad4</button>
        </div>
        </div>

        <!---Timing screen platform selection --!>

        <img id="clock_img" src="img/clock.png"
        style="display:none; width: 200px; height: 200px;" onclick="timer_select(0)">

        <img id="cal_img" src="img/cal.png"
        style="display:none; width: 200px; height: 200px;" onclick="timer_select(1)" >
        <hr>
        <div class="progress">
            <div class="bar" id="bar" style="width : 0%">
            </div>
        </div>

        <a id="finishbutton" style="display:none;" class="btn btn-success" onclick="finalise_job()">
            Click Me
        </a>
    </div>

</div>

<script type="text/javascript">
    var platform;
    var device;
    var timer_type;
function update_progress(num)
{
    var bar = document.getElementById("bar");
    bar.style.width = num;
}
function platform_select(sel)
{
    switch(sel)
    {
        case 0:
            platform = "ios";
            break;
        case 1:
            platform = "android";
            break;

    }
    //set these to none and show our next icons + update progress
    update_progress("25%");
    $("#apple_plat").fadeToggle();
    $("#android_plat").fadeToggle();
    
    document.getElementById("phone_img").style.display = "inline";
    document.getElementById("pad_img").style.display = "inline";
}
function device_type(sel)
{
    switch(sel)
    {
        case 0:
            device = "phone";
            break;
        case 1:
            device = "pad";
            break;

    }
    update_progress("50%");
    $("#phone_img").fadeToggle();
    $("#pad_img").fadeToggle();
    document.getElementById("device_sel_bar").style.display = "inline";
}
function device_specific(sel)
{
    update_progress("75%");
    $("#device_sel_bar").fadeToggle();
    document.getElementById("clock_img").style.display = "inline";
    document.getElementById("cal_img").style.display = "inline";
}
function timer_select(sel)
{
    switch(sel)
    {
        case 0:
            timer_type = "clock";
            break;
        case 1:
            timer_type = "cal";
            break;

    }
    update_progress("100%");
    $("#cal_img").fadeToggle();
    $("#clock_img").fadeToggle();
    document.getElementById("finishbutton").style.display = "inline";
}
function finalise_job()
{
    /*
    feedback to server rb
    */
    alert(platform + " " + device + " " + timer_type); 
    window.location = "/job";
}
</script>
